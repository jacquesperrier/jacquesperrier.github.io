<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VERDICT - Feuille de Temps</title>
    <style>
        :root { --primary: #12263a; --accent: #ffc107; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: sans-serif; background: #0d1b2a; padding: 10px; color: #333; }
        .container { max-width: 500px; margin: auto; background: #fff; border-radius: 20px; padding: 20px; }
        .logo { text-align: center; border-bottom: 2px solid #eee; margin-bottom: 20px; }
        .info-card { background: #f8f9fa; padding: 15px; border-radius: 12px; margin-bottom: 20px; }
        label { display: block; font-weight: bold; margin: 10px 0 5px; color: var(--primary); }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 10px; }
        .day-box { margin-bottom: 10px; border: 1px solid #eee; border-radius: 10px; overflow: hidden; }
        .day-label { background: var(--primary); color: white; padding: 8px; text-align: center; font-weight: bold; }
        .total-banner { background: #28a745; color: white; padding: 15px; border-radius: 10px; text-align: center; font-size: 20px; font-weight: bold; margin: 20px 0; }
        .btn-submit { background: var(--accent); width: 100%; padding: 20px; border: none; border-radius: 10px; font-size: 18px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>
<div class="container">
    <div class="logo"><h1>VERDICT</h1><p>SANTÃ‰ â€¢ SÃ‰CURITÃ‰ â€¢ IA</p></div>
    <form id="verdictForm">
        <div class="info-card">
            <label>ðŸ‘¤ Consultant :</label>
            <input type="text" name="Consultant" id="empName" value="Jacques Perrier" required>
            <label>ðŸ“… Semaine du :</label>
            <input type="date" name="Semaine_du" id="wkDate" required>
        </div>
        <div id="formContent"></div>
        <div class="total-banner">TOTAL : <span id="totalHrs">0.00</span>h</div>
        <button type="submit" class="btn-submit">ðŸš€ ENVOYER Ã€ JACQUES</button>
    </form>
</div>
<script>
    const days = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'];
    let html = '';
    days.forEach((day, i) => {
        html += `<div class="day-box"><div class="day-label">${day}</div><div style="padding:10px">
        <select name="${day}_Debut" id="s${i}" onchange="calc()">${gen()}</select>
        <select name="${day}_Fin" id="e${i}" onchange="calc()">${gen()}</select>
        <textarea name="${day}_Note" placeholder="Notes..."></textarea></div></div>`;
    });
    document.getElementById('formContent').innerHTML = html;
    function gen() { let h='<option value="">--:--</option>'; for(let i=0;i<24;i++) for(let m=0;m<60;m+=30) { let t=(i<10?'0'+i:i)+':'+(m<10?'0'+m:m); h+=`<option value="${t}">${t}</option>`; } return h; }
    function calc() {
        let total = 0;
        days.forEach((_, i) => {
            let s = document.getElementById('s'+i).value, e = document.getElementById('e'+i).value;
            if(s && e) {
                let d = (parseInt(e.split(':')[0])*60+parseInt(e.split(':')[1])) - (parseInt(s.split(':')[0])*60+parseInt(s.split(':')[1]));
                if(d<0) d+=1440; total += d/60;
            }
        });
        document.getElementById('totalHrs').textContent = total.toFixed(2);
    }
    document.getElementById("verdictForm").onsubmit = async (e) => {
        e.preventDefault();
        await fetch("https://formspree.io/f/xdadypze", { method: 'POST', body: new FormData(e.target), headers: { 'Accept': 'application/json' }});
        alert("EnvoyÃ© !");
    };
</script>
</body>
</html>
